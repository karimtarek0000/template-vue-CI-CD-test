name: 'Custom CodeQL Configuration'

queries:
  - uses: security-and-quality
  - uses: security-extended

query-filters:
  # Flag severe security findings as errors to block PR merges
  - exclude:
      id: js/xss-through-dom
      severity: 'warning'

  - include:
      id: js/xss-through-dom
      severity: 'error'

  # Upgrade severity of dangerous eval usage
  - exclude:
      id: js/eval-injection
      severity: 'warning'

  - include:
      id: js/eval-injection
      severity: 'error'

  # Upgrade prototype pollution
  - exclude:
      id: js/prototype-pollution
      severity: 'warning'

  - include:
      id: js/prototype-pollution
      severity: 'error'

paths:
  - src
  - public

paths-ignore:
  - node_modules
  - '**/*.test.js'
  - '**/*.spec.js'
  - '**/dist/**'
